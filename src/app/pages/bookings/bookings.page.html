<section class="bookings-page">
  <header>
    <h1>Neue Buchung</h1>
    <p class="bookings-page__subtitle">
      Reservieren Sie Räume schnell und transparent für Ihr Team.
    </p>
  </header>

  <div *ngIf="roomsLoading(); else formTemplate" class="bookings-page__loading">
    <mat-progress-spinner mode="indeterminate" diameter="48"></mat-progress-spinner>
    <span>Räume werden geladen …</span>
  </div>

  <ng-template #formTemplate>
    <ng-container *ngIf="roomsError(); else loadedTemplate">
      <div class="bookings-page__error">
        <mat-icon aria-hidden="true">error_outline</mat-icon>
        <p>{{ roomsError() }}</p>
      </div>
    </ng-container>
  </ng-template>

  <ng-template #loadedTemplate>
    <mat-card appearance="outlined">
      <app-booking-form
        [rooms]="rooms()"
        (submitted)="handleBooking($event)"
        (resetForm)="resetFeedback()"
      ></app-booking-form>
    </mat-card>
  </ng-template>

  <div class="bookings-page__inflight" *ngIf="bookingInFlight()">
    <mat-progress-spinner mode="indeterminate" diameter="32"></mat-progress-spinner>
    <span>Buchung wird angelegt …</span>
  </div>
</section>
